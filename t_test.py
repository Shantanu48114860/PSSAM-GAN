# from math import sqrt
#
# import numpy as np
from numpy import genfromtxt
#
# sae_np = genfromtxt('./MSE/25-1-25/Stat/MSE_dict_SAE.csv')
# lr_lasso_np = genfromtxt('./MSE/25-1-25/Stat/MSE_dict_LR_lasso.csv')
# # lr_lasso_np = genfromtxt('./MSE/[!!!best]epoch_200_lr_0001_bs_32_sparse_prob_0.08 _wt_decay_0003_beta_0_4/STAT/MSE_dict_LR_lasso.csv')
#
#
# # Compute the difference between the results
# diff = [y - x for y, x in zip(sae_np, lr_lasso_np)]
# # Compute the mean of differences
# d_bar = np.mean(diff)
# # compute the variance of differences
# sigma2 = np.var(diff)
# # compute the number of data points used for training
# n1 = 597
# # compute the number of data points used for testing
# n2 = 150
# # compute the total number of data points
# n = 747
# # compute the modified variance
# sigma2_mod = sigma2 * (1 / n + n2 / n1)
# # compute the t_static
# t_static = d_bar / np.sqrt(sigma2_mod)
#
# m = 0.2  # test set fraction
# n = 0.8  # training test fraction
# r = 100  # number of runs
# k = 2  # folds
#
# from scipy.stats import t
#
# tcorr = sqrt(m / n + 1 / (r * k))  # correction for t-value
# tc = t_static / (tcorr * sqrt(r * k))
# # Compute p-value and plot the results
# Pvalue = (1 - t.cdf(tc, (r * k - 1)))
# print(Pvalue)


# import seaborn as sns
from scipy.stats import ttest_ind


def compare_2_groups(arr_1, arr_2, alpha, sample_size):
    stat, p = ttest_ind(arr_1, arr_2)
    print('Statistics=%.8f, p=%.53f' % (stat, p))
    if p > alpha:
        print('Same distributions (fail to reject H0)')
    else:
        print('Different distributions (reject H0)')


sample_size = 15

# lr_lasso_np = genfromtxt('./MSE/25-1-25/Stat/MSE_dict_LR_lasso.csv')
lr_lasso_np = [2.8778703877840900,2.2105779115492600,2.3041459717745400,2.2801467722732800,3.531858417494020,3.7494482730098000,3.2033621380100100,2.696171750331930,2.494579468500870,2.4480811202793300,2.550383347662700,2.6381985627292900,2.5754701036968200,2.71188758260696,2.6896947948140800,2.188340050317710,2.1857722744984500,2.749616410300470,2.1401719272552800,2.65069689836381,2.6991852059175300,2.344351158972990,2.57994148053428,3.153474736824420,2.5620536188474000,2.507261180165360,2.304808712333960,2.9278388385284000,2.130628765487560,2.4417148560901500,2.7055466365239500,3.3064323005810700,2.721331989096080,1.9594315754837500,2.302462438750890,2.653959833917850,2.3800685468698400,2.215460453183220,2.515106473421390,2.3822321442454900,2.9320174715389600,2.9769219275446500,2.5372323351991100,2.855580285517030,2.0194567559173100,2.467643952451700,2.7806163739500100,2.1642041653785300,2.3786158828419700,2.0499186838215500,2.721171268708610,2.465233279798090,2.374484108237460,2.3459990247896500,2.128782441097210,2.4758255904064900,2.8286277373844400,2.03559048310343,2.3606702950600800,2.4104618984679500,2.7787994644211700,2.3932621026774900,2.369695457431930,2.498848851751470,2.3767452290272500,3.1718061905707900,2.8192097643930000,2.1945275983575600,3.026483170932420,2.6154781446064400,3.074252825446300,2.3063117904412800,2.360368278733140,2.788747866535910,2.1294420135159300,2.3540746108131400,2.14270582881611,2.5192534202795000,3.0460196629191100,2.2663216136369600,2.5548227533521700,2.5768014642210000,3.222256821030450,2.490247647364830,2.557818279489940,2.30191398770616,2.5016683340574400,2.3319022649622800,2.5551847334642900,2.283900974047620,2.8219059751802300,1.993517305097670,2.139260134646760,2.4033310199698800,2.550685179146080,2.6884977428942200,2.117885167470300,2.2589007870773300,2.5262435686490600,2.5213787920576200]
sae_np = [1.9753273692463200,
1.8818003239505500,
1.9150891699132300,
1.8008677099742100,
1.889495661333570,
1.9299920802317300,
2.0463860276175800,
2.1347581728811800,
2.0054571420102900,
2.0387838562745000,
1.9699553773907800,
1.926666042894610,
1.9811857107555700,
2.1185551161436900,
1.8984085667047000,
1.8619752130408900,
1.8346735105639100,
2.10019213017079,
1.9812246330827800,
1.8794988376055700,
1.9236385369129900,
1.8528751716160000,
2.0012916161324100,
2.0816743909961500,
1.8001265529432300,
1.9420537760302800,
1.945606513687940,
1.945284324278070,
1.9231485868628700,
1.9747909035561600,
1.8961994253977100,
1.9090248269271800,
1.907685401103650,
1.8587745715220300,
1.94616913590512,
1.8714498796393400,
1.806961760363220,
2.1332856200644200,
1.882736007537310,
1.7633580456916000,
1.9392408190043800,
1.8603975359061500,
1.879679099274270,
1.9397476274744900,
1.8334481220002300,
2.0477693470075800,
1.9270731518826400,
1.9082916366584000,
1.8254901212519400,
1.95153743636566,
2.246268199082310,
1.928193588840530,
1.9593665880258200,
1.833098917327860,
2.0426445216385900,
1.856698596502510,
1.9326711609859500,
1.9802838249081900,
2.0222304878706200,
1.9106091731388400,
2.0547083020589000,
2.0218438685950500,
1.893172874656490,
1.8549718501439000,
1.8021109047613100,
1.82372234089517,
1.9129693482344100,
2.0498508912689000,
1.9005583800574700,
1.9676118163292300,
1.910486489720220,
1.9109357502529600,
1.8485447856588000,
1.8570972907736300,
1.8444196088652100,
1.8041371286403200,
1.9720368397668600,
2.1003758893087000,
2.062898499099240,
2.05712609526889,
1.9090487125728100,
1.84317753446965,
1.9047499354735300,
1.90105461925181,
1.964565606595890,
1.9539825869359500,
2.080234296160420,
2.00336176046794,
1.8357555615200200,
1.9526807692902900,
1.9327494305357200,
1.8631275043398200,
1.9877869448015800,
1.899691353554990,
2.053035090309890,
2.066846593777880,
1.972289197871700,
1.9317185640633500,
1.8439647133132100,
1.717868630529280,
               ]

# sae_np = genfromtxt('./MSE/25-1-25/Stat/MSE_dict_SAE.csv')
compare_2_groups(sae_np, lr_lasso_np, 0.05, sample_size)
